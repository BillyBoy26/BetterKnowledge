<link rel="import" href="../bower_components/polymer/polymer.html">


<link rel="import" href="../bower_components/iron-flex-layout/iron-flex-layout-classes.html">
<link rel="import" href="../bower_components/paper-dialog/paper-dialog.html">
<link rel="import" href="../bower_components/paper-dialog-scrollable/paper-dialog-scrollable.html">
<link rel="import" href="../bower_components/paper-input/paper-input.html">
<link rel="import" href="../bower_components/paper-fab/paper-fab.html">
<link rel="import" href="../bower_components/iron-icon/iron-icon.html">
<link rel="import" href="../bower_components/iron-image/iron-image.html">
<link rel="import" href="../bower_components/paper-button/paper-button.html">
<link rel="import" href="../bower_components/iron-form/iron-form.html">
<link rel="import" href="../bower_components/iron-icons/iron-icons.html" >


<dom-module id="connection-popup">
    <template>
        <div class="horizontal layout">
            <paper-button  on-click='toggle'>Sign in</paper-button>
            <a href="/signup" tabindex="-1">
                <paper-button>Sign up</paper-button>
            </a>
        </div>
        <paper-dialog id="mainPopup">
            <paper-dialog-scrollable>
                <div class="vertical layout wrap center container">
                    <iron-image src="../images/icon/iconLogin.jpg" style="margin:5px"></iron-image>
                    <h2>Connection</h2>
                    <form is="iron-form" id="connectionForm" action="/auth/connection">
                        <paper-input name="email" label="Adresse Email" class="paper-input">
                            <iron-icon icon="mail" prefix></iron-icon>
                        </paper-input>
                        <paper-input name="password" label="Mot de passe" type="password" class="paper-input">
                            <iron-icon icon="lock" prefix></iron-icon>
                        </paper-input>
                        <paper-button id="subscribeButton" raised onclick="_connect(event)">Connection</paper-button>
                    </form>
                    <div class="orLabel">Or</div>
                    <div class="horizontal layout wrap">
                        <a href="/auth/facebook">
                            <img class="socialIcon" src="../images/icon/socialMediaIcon/facebook.svg"  />
                        </a>
                        <a>
                            <img class="socialIcon" src="../images/icon/socialMediaIcon/twitter.svg"  />
                        </a>
                        <a>
                            <img class="socialIcon" src="../images/icon/socialMediaIcon/googleplus.svg"  />
                        </a>
                    </div>
                </div>
            </paper-dialog-scrollable>
        </paper-dialog>
    </template>

    <style>
        :host{
            --paper-button:{
                color:white;
                margin:5px 0;
                width:100%;
             }

        }

        .orLabel{
            margin:20px 0;
            font-size:18px;

        }
        .paper-input{
            width:100%;
        }

        #subscribeButton{
            background: #fb3334;
        }
        .container{
            width:300px;
        }
        .socialIcon {
            width: 48px;
            height: 48px;
            margin:0 8px;
            -moz-border-radius: 25px;
            -webkit-border-radius: 25px;
            border-radius: 25px;
        }
    </style>

    <style include="iron-flex iron-flex-alignment">
    </style>

    <script>

        Polymer({
            is: 'connection-popup',
            toggle : function(){
                document.getElementById("mainPopup").toggle();
            }
        });

        function _connect(event) {
            Polymer.dom(event).localTarget.parentElement.submit();
        }
    </script>
</dom-module>

